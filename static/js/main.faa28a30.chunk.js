(window["webpackJsonpwho-faster"]=window["webpackJsonpwho-faster"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(29)},,,,,function(e,t,a){},,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),l=(a(16),a(7)),s=a.n(l),c=a(10),u=a(2),m=a(3),d=a(5),p=a(4),f=a(6);a(18);var h=function(e){var t=e.complexity,a=e.handleChangeMode,n=e.playerName,o=e.handleChangeName,i=e.handleSubmit,l=e.play;return r.a.createElement("form",{className:"game_field__form",id:"inputSettings",onSubmit:function(e){i(e)}},r.a.createElement("select",{className:"form_format",value:t,onChange:function(e){a(e)}},r.a.createElement("option",{value:"",hidden:!0}," ","Pick game mode"," "),r.a.createElement("option",{value:"easy"},"Easy Mode"),r.a.createElement("option",{value:"normal"},"Normal Mode"),r.a.createElement("option",{value:"hard"},"Hard Mode")),r.a.createElement("input",{className:"form_format",type:"text",value:n,onChange:function(e){o(e)},placeholder:"Enter your name"}),l?r.a.createElement("button",{className:"form_button  restar_button form_format"}," ","Restar game"," "):r.a.createElement("button",{className:"form_button form_format"}," play "))},g=a(1),v=a.n(g);a(21);var y=function(e){var t=e.id,a=e.useTds,n=e.addPoint,o=e.cliked,i=-1!==a.indexOf(t)?"choose_td":null;return a.slice(0,a.length-1).includes(t)&&(i="computer_td"),o.includes(t)&&(i="player_td"),r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{id:t,className:i,onClick:function(e){n(e)}},e.children))};var b=function(e,t){var a={};switch(e){case"easy":a=t.easyMode;break;case"normal":a=t.normalMode;break;case"hard":a=t.hardMode;break;default:a=t.easyMode}return a};var E=function(e){return Math.floor(Math.random()*Math.floor(e))};var _=function(e,t){var a=0,n=e.length,o=[];for(a=0;a<n;a+=t){var i=e.slice(a,a+t);o.push(r.a.createElement("tr",{key:v()()},i))}return o};var w=function(e){for(var t=[],a=0,n=0;n<e;n++){for(var o=[],i=0;i<e;i++)o.push(r.a.createElement("td",{key:a})),a++;t.push(r.a.createElement("tr",{key:v()()},o))}return r.a.createElement("table",null,r.a.createElement("tbody",null,t))};var M=function(){var e=new Date,t="".concat(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()),a="".concat(e.getHours()<10?"0"+e.getHours():e.getHours());return"".concat(a,":").concat(t,"; ").concat(e.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getFullYear())},N="https://starnavi-frontend-test-task.herokuapp.com";function k(e){return fetch(N+e).then((function(e){return e.json()}))}a(22);var C=function(e){var t=e.gameMode,a=e.play,n=e.table,o=e.useTds,i=e.cliked,l=e.addPoint,s=[];if(a){var c=n.map((function(e,t){return r.a.createElement(y,{key:v()(),id:t,useTds:o,cliked:i,addPoint:l},e)}));s=_(c,t.field)}return r.a.createElement("div",{className:"game_field__table"},a?r.a.createElement("table",null,r.a.createElement("tbody",null,s)):w(t.field))};a(23);var P=function(e){var t=e.pointsComputer,a=e.pointsPlayer,n=e.pointForWinn;return r.a.createElement("div",{className:"game_field__counter"},r.a.createElement("p",{className:"counter__points_for_win"},"You need to score more ",n," to win!"),r.a.createElement("div",{className:"conter__curr_points"},r.a.createElement("p",null,"Player: ",a),r.a.createElement("p",null,"Computer: ",t)))};a(24);var T=function(e){var t=e.winner;return r.a.createElement("div",{className:"game_field__modal"},r.a.createElement("div",{className:"modal__alert"},t," win!"),r.a.createElement("button",{className:"modal_button",form:"inputSettings"},"Restar game"))},S=(a(25),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChangeMode=function(e){var t=a.props.gameModes,n=b(e.target.value,t);a.setState({complexity:e.target.value,gameMode:n})},a.handleChangeName=function(e){a.setState({playerName:e.target.value})},a.getPointForWinn=function(e){var t=Math.floor(Math.pow(e,2)/2)+1;a.setState({pointForWinn:t})},a.restarGame=function(e){e[0].disabled=!1,e[1].disabled=!1,a.setState({play:!1,chooseTd:null,useTds:[],table:[],cliked:[],pointsComputer:0,pointsPlayer:0,winner:""})},a.isEmptyForm=function(e){var t=a.state,n=t.complexity,r=t.playerName;n&&r?(e[0].disabled=!0,e[1].disabled=!0,a.setState({play:!0,isWarnning:!1})):a.setState({isWarnning:!0})},a.handleSubmit=function(e){var t=a.state,n=t.winner,r=t.gameMode;a.getPointForWinn(r.field),a.isEmptyForm(e.target),a.createTable(),a.state.play&&a.restarGame(e.target),a.startGame(),n||e.preventDefault()},a.startGame=function(){var e=a.state.gameMode,t=setInterval((function(){a.chooseItem(t),a.addPointComputer(),a.getWinner(t)}),e.delay)},a.createTable=function(){for(var e=a.state.gameMode.field,t=[],n=0;n<Math.pow(e,2);n++)t.push("");a.setState({table:t})},a.chooseItem=function(e){var t=a.state,n=t.gameMode,r=t.useTds,o=t.play,i=t.chooseTd,l=Math.pow(n.field,2);a.setState((function(){var t=E(l);if(r.length===l)return{chooseTd:null,useTds:r.concat(null)};for(var a=0;a<l;a++){if(r.length===l)return;if(!r.includes(t)){r=r.concat(t);break}t=E(l)}return r.length===l+1&&!i||!o?clearInterval(e):{chooseTd:t,useTds:r}}))},a.addPointComputer=function(){var e=a.state,t=e.useTds,n=e.cliked,r=t.length-n.length-1;r>-1&&a.setState({pointsComputer:r})},a.addPoint=function(e){var t=a.state,n=t.pointsPlayer,r=t.cliked,o=t.chooseTd,i=+e.target.id;r[r.length-1]!==i&&o===i&&(r=r.concat(i),n+=1,a.setState({pointsPlayer:n,cliked:r}))},a.getWinner=function(e){var t,n=a.state,r=n.pointsComputer,o=n.pointsPlayer,i=n.pointForWinn;r>=i?t="Computer":o===r===i?t="A draw":o>=i&&(t="Player"),a.setState({winner:t}),t&&(!function(e){var t=M();console.log("rr");var a={date:t,winner:e};fetch(N+"/winners",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}(t),clearInterval(e))},a.state={complexity:"",gameMode:a.props.gameModes.easyMode,play:!1,playerName:"",table:[],isWarnning:!1,chooseTd:null,useTds:[],cliked:[],pointsComputer:0,pointsPlayer:0,winner:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.useTds,a=e.chooseTd,n=e.gameMode,o=e.complexity,i=e.playerName,l=e.pointForWinn,s=e.play,c=e.isWarnning,u=e.table,m=e.cliked,d=e.pointsComputer,p=e.pointsPlayer,f=e.winner;return r.a.createElement("div",{className:"game_field"},r.a.createElement(h,{complexity:o,playerName:i,play:s,handleChangeMode:this.handleChangeMode,handleChangeName:this.handleChangeName,handleSubmit:this.handleSubmit}),c&&r.a.createElement("p",{className:"game_field__warning"},"Pleas, put your name and choose mode game!"),f&&r.a.createElement(T,{winner:f}),s&&r.a.createElement(P,{pointsComputer:d,pointsPlayer:p,pointForWinn:l}),r.a.createElement(C,{gameMode:n,pointForWinn:l,play:s,table:u,chooseTd:a,useTds:t,addPoint:this.addPoint,cliked:m,pointsComputer:d,pointsPlayer:p}))}}]),t}(r.a.Component));a(26);var W=function(e){var t=e.winner,a=e.date;return r.a.createElement("li",{className:"winner_board__item"}," ",r.a.createElement("span",null,t,":"),r.a.createElement("span",null,a))};a(27);var O=function(e){var t=e.winners;return r.a.createElement("div",{className:"winners_board"},r.a.createElement("h1",{className:"title"},"Winners Board"),r.a.createElement("ul",{className:"winners_board__list"},t.map((function(e){return r.a.createElement(W,{key:e.id,winner:e.winner,date:e.date})}))))},j=(a(28),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={winners:[],gameModes:{},isLoaded:!1},e}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/game-settings");case 2:return t=e.sent,e.next=5,k("/winners");case 5:a=e.sent,n=a.reverse(),this.setState({gameModes:t,winners:n,isLoaded:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.winners,a=e.gameModes;return e.isLoaded?r.a.createElement("div",{className:"App"},r.a.createElement(S,{gameModes:a}),r.a.createElement(O,{winners:t})):r.a.createElement("div",null,r.a.createElement("h1",null,"Loading... "))}}]),t}(r.a.Component));i.a.render(r.a.createElement(j,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.faa28a30.chunk.js.map